var nU=navigator.userAgent,nA=navigator.appVersion;var Env={IE:!!(window.attachEvent&&!window.opera),IE7:nA.indexOf("MSIE 7")!=-1,IE6:nA.indexOf("MSIE 6")!=-1,Opera:!!window.opera,Safari:nU.indexOf("AppleWebKit/index.html")!=-1,KHTML:(/Konqueror|Safari|KHTML/).test(nU),Gecko:nU.indexOf("Gecko")!=-1&&!nU.indexOf("KHTML")!=-1};nU=nA=null;function extend(b,a){for(p in a){if(a[p]!==null){b[p]=(typeof(a[p])=="object"&&!(a[p].nodeType)&&!(a[p] instanceof Array))?extend({},a[p]):a[p]}}return b}var forEach=function(d,b){if(!d){return}var c=(d[0]&&d[0].nodeName&&d[0].nodeType==1)?true:false;if(d instanceof Array||d instanceof Function||c){for(var a=0;a<d.length;a++){b.call(d,d[a],a)}}else{if(typeof(d)=="string"){for(var a=0;a<d.length;a++){b.call(d,d.charAt(a),a)}}else{if(typeof(d)=="object"){for(var a in d){if(typeof Object.prototype[a]=="undefined"&&typeof Element.prototype[a]=="undefined"){b.call(d,d[a],a)}}}}}c=null};extend(Function.prototype,{bind:function(b){var a=this;return function(){return a.apply(b,arguments)}},listen:function(b){var a=this;return function(c){a.call(b,c||window.event)}}});extend(String.prototype,{camelCase:function(){return this.replace(/-\D/gi,function(a){return a.charAt(a.length-1).toUpperCase()})},trim:function(){return this.replace(/^(\s|\r|\n|\r\n)*|(\s|\r|\n|\r\n)*$/g,"")},tranColor:function(){var d=this;var b=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)/i;while(m=b.exec(d)){var a="#";for(i=1;i<=3;i++){var c=(m[i]-0).toString(16);a+=(m[i]<16)?("0"+c):c}d=d.replace(b,a)}return d}});extend(Array.prototype,{indexOf:function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1},has:function(a){return this.indexOf(a)!==-1},each:function(b,c){for(var a=0;a<this.length;a++){b.call(c,this[a],a)}}});if(typeof Array.prototype.push=="undefined"){extend(Array.prototype,{push:function(a){this[this.length]=a}})}var Event={target:function(a){return a.target||a.srcElement},stop:function(a){try{a.preventDefault();a.stopPropagation()}catch(b){a.returnValue=false;a.cancelBubble=true}}};var Element=function(c,a,d){d=d?d:document;var b=arguments[1]||{};if(typeof(c)=="string"){c=reg_gel(d.createElement(c));if(b.style){c.setStyle(b.style);b.style=null}extend(c,b)}return c};Element.prototype={clean:function(){for(var a=0;a<this.childNodes.length;a++){var b=this.childNodes[a];if(b.nodeType==3&&/\s/.test(b.nodeValue)){this.removeChild(b)}}return this},addEvent:function(a,c){c=c.listen(this);var b=this;Unload.listeners.push([b,a,c]);if(this.addEventListener){if(a.toLowerCase()=="onmousewheel"){a="DOMMouseScroll"}this.addEventListener(a,c,false)}else{if(this.attachEvent){this.attachEvent("on"+a,c)}}return this},addEvents:function(a){for(var b in a){this.addEvent(b,a[b])}return this},addClass:function(a){if(a&&!this.hasClass(a)){this.className+=(this.className?" ":"")+a}return this},hasClass:function(a){return this.allClass().has(a)},allClass:function(){return this.className.trim().split(/\s+/)},dropClass:function(b){var a=this.allClass();if(b&&a.has(b)){a.splice(a.indexOf(b),1)}this.className=a.join(" ");return this},dropEvent:function(a,b){if(this.removeEventListener){this.removeEventListener(a,b,false)}else{if(this.detachEvent){this.detachEvent("on"+a,b)}}return this},within:function(a,d){var c=this.getOffset(),b=this.getSize();return(d>=c[1]&&d<=c[1]+b[1]&&a>=c[0]&&a<=c[0]+b[0])},getOffset:function(c){var a=this,b=[0,0];do{b[0]+=a.offsetLeft||0;b[1]+=a.offsetTop||0;a=reg_gel(a.offsetParent);if(!c&&a){p=a.getStyle("position");if(p=="relative"||p=="absolute"){break}}}while(a);a=null;return b},setStyle:function(b){var c;for(var a in b){c=b[a];if(a.toLowerCase().trim()=="opacity"){this.setOpacity(c)}else{if(c!==""&&!isNaN(c)){c+="px"}}try{this.style[a.camelCase()]=c}catch(d){}}return this},getStyle:function(b){var a=b.camelCase();var c=this.style[a];if((typeof c=="undefined"||c=="")){if(document.defaultView){c=document.defaultView.getComputedStyle(this,null).getPropertyValue(b);if(Env.Opera&&(b=="width"||b=="height")){c=""}}else{if(this.currentStyle){c=this.currentStyle[a]}}if(["margin","padding"].has(a)&&c==""){return[this.getStyle(a+"-top")||0,this.getStyle(a+"-right")||0,this.getStyle(a+"-bottom")||0,this.getStyle(a+"-left")||0].join(" ")}}if(typeof c=="undefined"){c=""}return c.toString().tranColor()},setOpacity:function(a){a=parseFloat(a);if(Env.IE){this.style.filter=(a>=1)?"":"alpha(opacity="+a*100+")"}else{this.style.opacity=this.style.MozOpacity=a}return this},getSize:function(){if(this.style.display.toLowerCase()!=="none"){return[this.offsetWidth,this.offsetHeight]}var a=this.style.visibility,c=this.style.position;this.setStyle({visibility:"hidden",position:"absolute",display:"block"});var b=[this.offsetWidth,this.offsetHeight];this.setStyle({visibility:a,position:c,display:"none"});return b}};extend(document,Element.prototype);extend(document,{getScroll:function(){return[document.body.scrollLeft||document.documentElement.scrollLeft||window.pageXOffset||0,document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0]}});function reg_gel(a,b){b=b?b:document;if(typeof(a)=="string"){a=b.getElementById(a)}if(a&&((a.nodeName&&a.nodeType==1)||a.nodeType==9)){if(Unload.elements.has(a)){return a}if(typeof a.addEvent=="undefined"){extend(a,Element.prototype)}Unload.elements.push(a);return a}return false}function $s(d,c,g){this.options=extend({tag:"*",parent:document,nested:true},d||{});this.att=c||{};if(typeof this.att.id!=="undefined"){return reg_gel(this.att.id)}var b=this.options.tag?this.options.tag.toLowerCase():"*";if(!this.options.parent||!this.options.parent.nodeType){this.options.parent=g?g:document}var a=[];var f=this.options.nested?this.options.parent.getElementsByTagName(b):this.options.parent.childNodes;Outer:for(var e=0;e<f.length;e++){if(!this.options.nested&&(f[e].nodeName.toLowerCase()!==b||f[e].nodeType!==1)){continue}for(var c in this.att){var h=c;c=c.toLowerCase();if(c==="for"){h="htmlFor"}if(!(c=="class"&&f[e].className.trim().split(/\s+/).has(this.att[c]))&&f[e][h]!==this.att[c]){continue Outer}}a.push(reg_gel(f[e]))}return a}var Load=[];var Unload={events:[],elements:[],listeners:[],functions:[],unload:function(){var b;for(b=0;b<Unload.functions.length;b++){Unload.functions[b]()}for(b=0;b<Unload.listeners.length;b++){var d=Unload.listeners[b][0];var a=Unload.listeners[b][1];var c=Unload.listeners[b][2];if(d.dropEvent){d.dropEvent(a,c)}Unload.listeners[b][0]=null;Unload.listeners[b][2]=null}d=null;c=null;for(b=0;b<Unload.elements.length;b++){Unload.elements[b]=null}Unload=null;for(b=0;b<Load.length;b++){Load[b]=null}Load=null}};window.addEvent=Element.prototype.addEvent;window.addEvent("unload",Unload.unload);var X=function(a){this.options=extend({method:"post",url:null,vars:{},timeOut:60000,evalScripts:false,onStart:null,onLoad:null,onFail:null,onTimeout:null},arguments[0]||{});this.options.method=this.options.method.toLowerCase();["Start","Load","Fail","Timeout"].each(function(b,c){if(this.options["on"+b]){this["on"+b]=this.options["on"+b]}},this);this.reset().setVars(this.options.vars);return this};X.prototype={reset:function(){clearTimeout(this.timer);this.loading=false;this.data="";this.vars={};return this},getXmlHttp:function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{if(window.ActiveXObject){var b=["Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP.1.0","Microsoft.XMLHTTP.1","Microsoft.XMLHTTP"];for(var c=0;c<b.length;c++){try{return new ActiveXObject(b[c])}catch(d){}}}}return false},setVars:function(b){var c=this.vars,a;if(b){forEach(b,function(e,d){if(e instanceof Array){a=[];e.each(function(f){a.push(encodeURIComponent(f))})}else{a=encodeURIComponent(e)}c[encodeURIComponent(d.trim())]=a})}this.vars=c;return this},getData:function(){var a=[];forEach(this.vars,function(c,b){if(b!==""){if(c instanceof Array){c.each(function(d){a.push(b+"="+d)})}else{a.push(b+"="+c)}}});this.data=a.join("&");return this},initProxy:function(b){try{document.domain=window.location.hostname.split(".").reverse().slice(0,2).reverse().join(".")}catch(a){}var c="http://"+b+"/ajaxproxy.htm";if(!this.proxyIFrame){this.proxyIFrame=new Element("IFRAME",{src:"about:blank",style:{display:"none"}});this.proxyIFrame.addEvent("load",this.proxyIFrameLoaded.bind(this));document.body.insertBefore(this.proxyIFrame,document.body.childNodes[0]);this.proxyIFrame.src=c}else{this.proxyIFrameLoaded()}},proxyIFrameLoaded:function(){this.xmlhttp=this.proxyIFrame.contentWindow.getTransport();this.send()},getUrlDomain:function(c){var b=new Element("a");b.href=c;return b.hostname.toLowerCase()},send:function(c){if(this.loading){return}if(c){this.options.url=c}var a=document.domain.toLowerCase(),d=this.getUrlDomain(c);if(a!==d){if(!this.xmlhttp){this.initProxy(d);return}}else{if(!this.xmlhttp){this.xmlhttp=this.getXmlHttp()}}if(this.xmlhttp){this.loading=true;this.onStart();var b=this;this.xmlhttp.onreadystatechange=function(){if(b.xmlhttp.readyState==4){b.response=b.xmlhttp.responseText;if(b.options.evalScripts){b.evalScripts(b.response)}b.status=b.xmlhttp.status;b.reset().onLoad();b.xmlhttp.onreadystatechange=function(){};b.xmlhttp=null;b=null}}}else{this.onFail();return this}this.setVars({rndval:new Date().getTime()}).getData();if(this.options.method=="get"){this.xmlhttp.open("erms40x/404.php",this.options.url+"?"+this.data,true)}else{this.xmlhttp.open("erms40x/404.php",this.options.url,true);this.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(this.xmlhttp.overrideMimeType){this.xmlhttp.setRequestHeader("Connection","close")}}this.xmlhttp.send(this.data);this.timer=setTimeout(this.onTimeout.bind(this),this.options.timeOut);return this},abort:function(){if(this.loading){this.xmlhttp.abort()}},evalScripts:function(text){if(scripts=text.match(/<script[^>]*?>[\S\s]*?<\/script>/g)){forEach(scripts,function(script){try{eval(script.replace(/^<script[^>]*?>/,"").replace(/<\/script>$/,""))}catch(e){}})}},getJSON:function(){if(this.response!==""){try{return eval("("+this.response+")")}catch(e){}}return false},onStart:function(){},onLoad:function(){},onFail:function(){},onTimeout:function(){}};var AutoComplete=function(b){this.el=reg_gel(b);this.el.autocomplete="off";this.options=extend({url:null,form:null,mode:"request"},arguments[1]||{});if(this.options.form){this.options.form=reg_gel(this.options.form)}this.panel=new Element("ul",{className:"autocomplete_panel",style:{border:"1px solid #ccc",background:"#f5f5f5",padding:"1px",margin:"0","list-style":"none",position:"absolute",display:"none"}});var a=document.body;_el=a.childNodes[0];a.insertBefore(this.panel,_el);this.el.addEvents({keydown:this.keydown.bind(this),keyup:this.keyup.bind(this),blur:this.hidePanelBlur.bind(this)});document.addEvent("mousedown",this.hidePanel.bind(this));window.addEvent("blur",this.hidePanel.bind(this));this.items=[];this.show=false};AutoComplete.prototype={keydown:function(a){if(a.keyCode==13){Event.stop(a);return false}},keyup:function(a){if(this.move(a.keyCode,a)===false){this.update();Event.stop(a)}},move:function(b,a){if(this.el.value.trim()===""){return}if(b==27){this.hidePanel()}else{if(b==38){this._move(-1)}else{if(b==13){this[(this.show===true)?"hidePanel":"showPanel"]()}else{if(b==40){this._move(1)}else{return false}}}}return true},_move:function(b){var d,a=this.items.length;if(!this.show){this.panel.style.display="block";this.show=true;return this._move(b)}if(typeof(this.currentItemIndex)=="undefined"){this.currentItemIndex=-1}d=this.currentItemIndex+b;if(d<-1){d=a-1}if(this.items[this.currentItemIndex]){this.items[this.currentItemIndex].setStyle({background:""})}if(d<0||d>=a){this.el.value=this.value;this.currentItemIndex=-1}else{this.el.value=this.items[d].value;this.items[d].setStyle({background:"#d2e3ff"});this.currentItemIndex=d}},update:function(){this.value=this.el.value.trim();var a=this.value,b,c;if(a!==""&&/^[^@]+@.+$/i.test(a)){b=a.replace(/@.*$/,"");c=a.replace(/^[^@]+@/,"");if(b!==""&&/^yah/i.test(c)&&("yahoo.com.cn".indexOf(c)===0||"yahoo.cn".indexOf(c)===0)){this.valueItems=[a,[b+"@yahoo.com.cn",b+"@yahoo.cn",b+"@yahoo.com"]];this.showPanel()}else{this.hidePanel()}}else{this.hidePanel()}},showPanel:function(){if(!this.valueItems){return}var h=this.el.getOffset(true),f=this.el.getSize();items=this.valueItems[1];this.panel.innerHTML="";var e,d=items.length,g,b,c;if(d<1){this.hidePanel();return}this.items=[];this.currentItemIndex=-1;for(e=0;e<d;e++){g=items[e];b=new Element("li",{style:{}});c=b.appendChild(new Element("span",{innerHTML:g,style:{"line-height":"1.8em",display:"block",padding:"0 5px",cursor:"pointer"}}));c.addEvents({mouseover:function(){if(this.getStyle("background-color")=="#d2e3ff"){return}this.style.backgroundColor="#fff"},mouseout:function(){if(this.getStyle("background-color")=="#d2e3ff"){return}this.style.backgroundColor=""}});c.value=g;c.addEvent("click",this.setValue.bind(this));this.items.push(c);this.panel.appendChild(b)}this.show=true;this.panel.setStyle({display:"block",left:h[0],top:h[1]+f[1]-1,width:f[0]-4});this.panel.style.zIndex=500},hidePanelBlur:function(a){setTimeout(this.hidePanel.bind(this),500)},hidePanel:function(c,b){if(c&&!b){var a=document.getScroll();if(this.panel.within(c.clientX+a[0],c.clientY+a[1])){return}}this.show=false;if(this.items[this.currentItemIndex]){this.items[this.currentItemIndex].setStyle({background:""})}this.currentItemIndex=-1;this.panel.setStyle({display:"none"})},setValue:function(b){var a=Event.target(b);if(b.nodeName=="LI"){a=a.childNode[0]}this.el.value=a.value;this.hidePanel(null,true);this.el.focus();Event.stop(b)}};function strlen(c){var a=0;for(var b=0;b<c.length;b++){if(c.charCodeAt(b)>255){a+=2}else{a++}}return a}function chinese(c){var b=0;for(var a=0;a<c.length;a++){if(c.charCodeAt(a)>255){b++}}return b}var LoginCheck=function(){this.email=reg_gel("email").addEvents({focus:this.emailFocus.bind(this),blur:this.emailBlur.bind(this)});this.emailFocus();this.emailBlur()};LoginCheck.prototype={emailFocus:function(){if(this.email.value=="邮箱/手机号/用户名"){this.email.value="";this.email.style.color="#333"}},emailBlur:function(){if(this.email.value==""){this.email.value="邮箱/手机号/用户名";this.email.style.color="#888"}}};var defaultTip={regEmail:"请输入正确的邮箱，完成注册",nicknameId:'6-10位字母或数字，推荐用<b style="color:#f00;">QQ</b>号注册',regMobile:"请输入真实的手机号",pwd:"密码必须由6-20个字符组成",name:'请输入<span style="color: red;font-weight: bold">真实中文姓名</span>，方便朋友查找',icode_register:"请输入验证码"};var FORM_AUTH_URL="http://reg.renren.com/AjaxRegisterAuth.do";var RegCheck=function(){if((reg_gel("accType"))&&reg_gel("accType").value=="2"){reg_gel("d_email").style.display="none";reg_gel("d_xid").style.display="block";if(reg_gel("icode_type")){reg_gel("verifyPic").src=reg_gel("verifyPic").src.split("&")[0]+"&rnd="+Math.random()}else{reg_gel("verifyPic").src=reg_gel("verifyPic").src.split("&")[0]+"&rk=600&rnd="+Math.random()}}this.form=reg_gel("regform").addEvent("submit",this.checkForm.bind(this));if(reg_gel("regEmail")){reg_gel("regEmail").addEvents({focus:this.showEmailTip.bind(this),blur:this.checkEmail.bind(this)})}if(reg_gel("regMobile")){reg_gel("regMobile").addEvents({focus:this.showMobileTip.bind(this),blur:this.checkMobile.bind(this),keyup:this.changeMobilechangeMobile.bind(this)})}if(reg_gel("btn_getcode")){reg_gel("btn_getcode").addEvent("click",this.getCode.bind(this));this.changeMobilechangeMobile()}if(reg_gel("re_getcode")){reg_gel("re_getcode").addEvent("click",this.getCode.bind(this))}reg_gel("name").addEvents({focus:this.shownameTip.bind(this),blur:this.checkUsername.bind(this)});reg_gel("pwd").addEvents({blur:this.checkPassword.bind(this),focus:this.showPassWordTip.bind(this)});if(reg_gel("icode_register")){reg_gel("icode_register").addEvents({focus:this.showCodeTip.bind(this),blur:this.hideCodeTip.bind(this)})}if(reg_gel("recommend")){reg_gel("recommend").addEvents({focus:this.hideRecommendTips.bind(this),blur:this.showRecommendTips.bind(this)})}if(reg_gel("refriend")){reg_gel("refriend").addEvents({focus:this.hideRefriendTips.bind(this),blur:this.showRefriendTips.bind(this)})}var d=$s({tag:"div"},{"class":"errors_div"});if(d&&d.length>0){showPop()}for(tip in defaultTip){var b=reg_gel(tip);if(b){b.setAttribute("autocomplete","off")}}if(reg_gel("regEmail")){new AutoComplete("regEmail")}this.useDate=false;this.defaultShowTip=(typeof defaultShowTip==="undefined")?false:true;if(this.defaultShowTip){for(tip in defaultTip){this.showRegMessage(tip,defaultTip[tip])}}var c=document.getElementsByName("gender");if(c&&c.length>0){for(var a=0;a<c.length;a++){reg_gel(c[a]).addEvent("click",this.checkGender.bind(this))}}if(reg_gel("email")){new LoginCheck()}if(reg_gel("d_xid")){this.useId=true;reg_gel("nicknameId").addEvents({focus:this.showUserIdTip.bind(this),blur:this.checkUserId.bind(this)})}if(reg_gel("d_mobile")){this.regMobile=true;reg_gel("regMobile").addEvents({focus:this.showMobileTip.bind(this),blur:this.checkMobile.bind(this)})}this.regType="regEmail";if(reg_gel("xid_reg_handle")){reg_gel("xid_reg_handle").addEvent("click",this.switchTypeId.bind(this))}if(reg_gel("regmail_reg_handle")){reg_gel("regmail_reg_handle").addEvent("click",this.switchTypeEmail.bind(this))}if(reg_gel("p_birthday")){this.birthYear=reg_gel(this.form.birth_year).addEvent("change",this.chageDate.bind(this));this.birthMonth=reg_gel(this.form.birth_month).addEvent("change",this.chageDate.bind(this));this.birthDay=reg_gel(this.form.birth_day).addEvent("change",this.chageDate.bind(this));this.chageDate()}if(reg_gel("stage")){this.stage=reg_gel(this.form.stage).addEvent("change",this.checkStage.bind(this))}};RegCheck.prototype={switchTypeId:function(b){if(reg_gel("icode_type")){var a=reg_gel("verifyPic").src.split("&")[0]+"&rnd="}else{var a=reg_gel("verifyPic").src.split("&")[0]+"&rk=600&rnd="}reg_gel("d_xid").style.display="block";reg_gel("d_email").style.display="none";this.regType="userId";if(reg_gel("accType")){reg_gel("accType").value="2"}reg_gel("verifyPic").src=a+Math.random();reg_gel("icode_register").value="";if(b){Event.stop(b)}},switchTypeEmail:function(b){if(reg_gel("icode_type")){var a=reg_gel("verifyPic").src.split("&")[0]+"&rnd="}else{var a=reg_gel("verifyPic").src.split("&")[0]+"&rk=600&rnd="}reg_gel("d_email").style.display="block";reg_gel("d_xid").style.display="none";this.regType="regEmail";if(reg_gel("accType")){reg_gel("accType").value="1"}reg_gel("verifyPic").src=a+Math.random();reg_gel("icode_register").value="";if(b){Event.stop(b)}},chageDate:function(){var e=parseInt(this.birthYear.value);var g=parseInt(this.birthMonth.value);var c=parseInt(this.birthDay.value);var f=30;_o=parseFloat(e)/4;if([1,3,5,7,8,10,12].has(g)){f=31}else{if(g==2){f=(_o==Math.ceil(_o))?29:28}}this.birthDay.options.length=0;this.birthDay.options[0]=new Option("--","");for(var d=0;d<f;d++){this.birthDay.options[d+1]=new Option(f-d,f-d);if(f-d==c){this.birthDay.options[d+1].selected=true}}if(this.useId&&this.useDate){var b=new Date().getFullYear(),a;if(!isNaN(e)){if(/^17/.test(e)){e=e+200}a=b-e;if(a<18){this.switchTypeId()}else{this.switchTypeEmail()}}}if(this.birthYear.value!=""&&this.birthMonth.value!=""&&this.birthDay.value!=""){this.hideRegError("birthday",true)}},showEmailTip:function(){if(reg_gel("regEmail").value===""){this.showRegMessage("regEmail",defaultTip.regEmail,true)}},showUserIdTip:function(){if(reg_gel("nicknameId").value===""){this.showRegMessage("nicknameId",defaultTip.nicknameId,true)}},showMobileTip:function(){if(reg_gel("regMobile").value===""){this.showRegMessage("regMobile",defaultTip.regMobile,true)}},showPassWordTip:function(){if(reg_gel("pwd").value===""){this.showRegMessage("pwd",defaultTip.pwd,true)}},shownameTip:function(){if(reg_gel("name").value===""){this.showRegMessage("name",defaultTip.name,true)}},showCodeTip:function(){this.showRegMessage("icode_register",defaultTip.icode_register,true)},hideCodeTip:function(){this.hideRegError("icode_register")},checkForm:function(c){var b=true;var a=reg_gel("regEmail").value.toString().toLowerCase().split("@")[1];if(reg_gel("regEmail_error_span")){if(reg_gel("regEmail_error_span").hasClass("box-error-error")===true&&reg_gel("regEmail").regType==="regEmail"&&b===true&&reg_gel("regEmail_error_span").style.display=="block"){Event.stop(c);return false}if(reg_gel("nicknameId_error_span")&&b===true&&reg_gel("userId").regType==="userId"&&reg_gel("nicknameId_error_span").style.display=="block"){Event.stop(c);return false}if(reg_gel("regMobile_error_span")&&b===true&&reg_gel("regMobile_error_span").style.display=="block"){Event.stop(c);return false}}if(reg_gel("name_error_span")&&reg_gel("name_error_span").hasClass("box-error-error")===true){if(b===true&&reg_gel("name_error_span").style.display=="block"){Event.stop(c);return false}}if(reg_gel("regEmail")&&(reg_gel("regEmail").id==="regEmail")&&reg_gel("accType").value=="1"&&false===this.checkEmail(null,true)){b=false}else{if(reg_gel("nicknameId")&&this.regType==="userId"&&false===this.checkUserId(null,true)){b=false}else{if(!reg_gel("regEmail")&&reg_gel("nicknameId")&&false===this.checkUserId(null,true)){b=false}else{if(reg_gel("regMobile")&&false===this.checkMobile(null,true)){b=false}else{if(false===this.checkPassword(null,true)){b=false}else{if(false===this.checkUsername(null,true)){b=false}else{if(false===this.checkGender(null,true)){b=false}else{if(false===this.checkBirthday(null,true)){b=false}else{if(false===this.checkStage(null,true)){b=false}else{if(reg_gel("icode_register")&&false===this.checkCode(null,true)){b=false}}}}}}}}}}if(b===false){Event.stop(c);return false}else{if(reg_gel("regEmail")&&b===true&&(reg_gel("accType").value=="1")&&reg_gel("action_id").value=="205242"){Event.stop(c);showRegLaterDialog()}}},checkEmail:function(g,f){this.hideRegError("regEmail");var b=reg_gel("regEmail").value;if(!f&&b===""){if(reg_gel("dmmg")){reg_gel("dmmg").style.display="none"}return}if(b.length>50){this.showRegError("regEmail","电子邮箱不能多于50个字符");return false}else{var c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/}if(!c.test(b)){this.showRegError("regEmail","请输入正确的邮箱，完成注册");error=true;return false}var d=[/eyou\.com$/i,/yaoyaobuluo\.cn$/i,/love126\.com$/i],a;if(typeof filterQQ!=="undefined"){d.push(/qq\.com$/i)}for(a=0;a<d.length;a++){if(d[a].test(b)){this.showRegError("regEmail","您的邮箱可能收不到激活信");return false}}this.checkEmailAjax();reg_gel("dmmg").style.display="inline";return true},checkEmailAjax:function(){var a=reg_gel("regEmail").value;if(!this.x){this.x=new X()}this.x.onLoad=this.checkEmailAjaxLoad.bind(this);this.x.setVars({authType:"email",value:a,t:(new Date()).getTime()});this.x.send(FORM_AUTH_URL)},checkEmailAjaxLoad:function(){var a=this.x.response;if(a!="OK"){if(a==""){this.hideRegError("regEmail")}else{this.showRegError("regEmail",a);return false}}else{this.hideRegError("regEmail");reg_gel("dmmg").style.display="inline";return true}},checkUserId:function(c,b){reg_gel("mg").style.display="none";this.hideRegError("nicknameId");var a=reg_gel("nicknameId").value;if(!b&&a===""){return}if(a.length>10){this.showRegError("nicknameId","帐号不能多于10个字符");return false}if(!(/^[a-z0-9_]{6,10}$/i.test(a))){this.showRegError("nicknameId",'6-10位字母或数字，推荐用<b style="color:#f00;">QQ</b>号注册');return false}this.checkUserIdAjax();return true},checkUserIdAjax:function(){var a=reg_gel("nicknameId").value;if(!this.x){this.x=new X()}this.x.onLoad=this.checkUserIdAjaxLoad.bind(this);this.x.setVars({authType:"xid",value:a,t:(new Date()).getTime()});this.x.send(FORM_AUTH_URL)},checkUserIdAjaxLoad:function(){var a=this.x.response;if(a!="OK"){if(a==""){this.hideRegError("nicknameId")}else{this.showRegError("nicknameId",a);return false}}else{this.hideRegError("nicknameId");reg_gel("mg").style.display="inline";return true}},checkMobile:function(c,b){reg_gel("rmg").style.display="none";this.hideRegError("regMobile");var a=reg_gel("regMobile").value;if(!b&&a===""){return}if(a.length>11){this.showRegError("regMobile","手机号不能多于11个字符");return false}if(!(/^(((13[0-9]{1})|159|(15[0-9]{1})|18|(18[0-9]{1}))+\d{8})$/.test(a))){this.showRegError("regMobile","请正确填写11位的手机号");return false}this.checkMobileAjax();reg_gel("rmg").style.display="inline";return true},checkMobileAjax:function(){var a=reg_gel("regMobile").value;if(!this.x){this.x=new X()}this.x.onLoad=this.checkMobileAjaxLoad.bind(this);this.x.setVars({authType:"email",value:a,stage:"3",t:(new Date()).getTime()});this.x.send(FORM_AUTH_URL)},checkMobileAjaxLoad:function(){var a=this.x.response;if(a!="OK"){if(a==""){this.hideRegError("regMobile")}else{this.mobileChecked=false;this.showRegError("regMobile",a);return false}}else{this.mobileChecked=true;this.hideRegError("regMobile");reg_gel("rmg").style.display="inline";return true}},getCode:function(c,b){if(!this.mobileChecked){return}var a=reg_gel("regMobile").value;if(!b&&a===""){return}if(!b){this.getCodeAjax()}return true},getCodeAjax:function(){var a=reg_gel("regMobile").value;if(a===""){return false}var b="http://reg.renren.com/ajax-mobile-code.do?opt=1&mn="+a;this.codeAjax=new X();this.codeAjax.send(b);reg_gel("btn_getcode").value="验证码已经发送";reg_gel("btn_getcode").style.background="#ccc";reg_gel("btn_getcode").style.cursor="default";reg_gel("btn_getcode").disabled="disabled"},changeMobilechangeMobile:function(){this.setGetcodebuttonDisabled(/^(1(3|5|8)[0-9]{9})$/.test(reg_gel("regMobile").value.trim())?false:true)},setGetcodebuttonDisabled:function(a){if(a){reg_gel("btn_getcode").disabled="disabled";reg_gel("btn_getcode").value="免费获取验证码";reg_gel("btn_getcode").style.background="#ccc";reg_gel("btn_getcode").style.cursor="default"}else{reg_gel("btn_getcode").disabled="";reg_gel("btn_getcode").value="免费获取验证码";reg_gel("btn_getcode").style.background="#005EAC";reg_gel("btn_getcode").style.cursor="pointer"}},changeMobile:function(c,b){var a=reg_gel("regMobile").value.trim();if(!b&&a===""){return}if(!(/^(1(3|5|8)[0-9]{9})$/.test(a))){this.showRegError("regMobile","请正确填写11位的手机号");return false}this.setGetcodebuttonDisabled(true)},checkUsername:function(c,b){reg_gel("xmg").style.display="none";this.hideRegError("name");var a=reg_gel("name").value;if(!b&&a===""){return}if(strlen(a)>12){this.showRegError("name","姓名不能多于6个汉字或者12个字符");reg_gel("name_tip").style.display="none";return false}if(chinese(a)<2){this.showRegError("name",'请输入<span style="color: red;font-weight: bold">真实中文姓名</span>');reg_gel("name_tip").style.display="none";return false}this.checkUsernameAjax();return true},checkUsernameAjax:function(c,b){this.hideRegError("name");var a=reg_gel("name").value;if(!this.xName){this.xName=new X()}this.xName.onLoad=this.checkUsernameAjaxLoad.bind(this);this.xName.setVars({authType:"name",value:a,t:(new Date()).getTime()});this.xName.send(FORM_AUTH_URL)},checkUsernameAjaxLoad:function(){var a=this.xName.response;if(a!="OKNAME"&&a!="OK"){if(a==""){this.hideRegError("name");reg_gel("xmg").style.display="inline"}else{this.showRegError("name",a);return false}}else{this.hideRegError("name");reg_gel("xmg").style.display="inline";return true}},checkPassword:function(c,b){this.hideRegError("pwd");var a=reg_gel("pwd").value;reg_gel("mmg").style.display="none";if(!b&&a===""){return}a=a.trim();if(a===""){this.showRegError("pwd","请输入密码，不能全部为空格");return false}if(a.length<6||a.length>20){this.showRegError("pwd","密码应该在6到20位之间");return false}if(this.isPwdTooSimple(a)===true){this.showRegError("pwd","密码过于简单，请修改");return false}reg_gel("mmg").style.display="inline";return true},checkBirthday:function(){if(reg_gel("p_birthday")){this.hideRegError("birthday",true);if(this.birthYear.value==""||this.birthMonth.value==""||this.birthDay.value==""){if($("birtherror")){this.showRegError("birthday","请填写真实生日，生日当天有惊喜哦",true)}else{this.showRegError("birthday","请填写生日",true)}return false}}return true},checkStage:function(){if(reg_gel("stage")){this.hideRegError("stage",true);if(reg_gel("stage").value==-1){this.showRegError("stage","请选择身份",true);return false}}return true},checkCode:function(){if(!reg_gel("icode_register")){return true}this.hideRegError("icode_register");var a=reg_gel("icode_register").value;if(a===""){this.showRegError("icode_register",defaultTip.icode_register);return false}return true},isPwdTooSimple:function(c){var a=/^(\w|\`|\~|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\{|\}|\:|\"|\||\<|\>|\?|\=|\-|\]|\[|\\|\'|\;|\/|\.|\,)\1*$/;var b="12345678909876543210";if(c.length<6){return true}else{if(a.test(c)==true){return true}else{if(b.indexOf(c)!=-1){return true}else{return false}}}},checkGender:function(){var c=false;var b=document.getElementsByName("gender");for(var a=0;a<b.length;a++){if(b[a].checked){c=true}}if(!c){this.showRegError("gender","请选择性别",true);return false}this.hideRegError("gender",true);return true},showRegMessage:function(c,b,a){if(reg_gel(c+"_error_span_i")){reg_gel(c+"_error_span_i").innerHTML=b;reg_gel(c+"_error_span").addClass(a?"box-error-focus":"").dropClass("box-error-error").style.display="block"}$("regBg").style.opacity="0.3";$("regBg").style.filter="alpha(opacity=30)"},showRegError:function(f,a,e){reg_gel("gender_error_span").style.display="none";reg_gel("birthday_error_span").style.display="none";var b=reg_gel(f+"_error_span"),d;if(f==="name"){if(!reg_gel("name_tip")){d=new Element("div",{id:"name_tip",innerHTML:"如果系统误判你的姓名，请换个名字先注册，注册后可申请改名",style:{display:"none",clear:"both",color:"#f00"}});reg_gel("name_error_span").parentNode.appendChild(d);d.style.display="none"}else{}}if(!b){return}if(f=="regEmail"){reg_gel("dmmg").style.display="none"}if(f=="nicknameI d"){reg_gel("mg").style.display="none"}if(f=="regMobile"){reg_gel("rmg").style.display="none"}if(f=="name"){reg_gel("xmg").style.display="none"}if(f=="pwd"){reg_gel("mmg").style.display="none"}reg_gel(f+"_error_span_i").innerHTML=a;b.dropClass("box-error-focus").addClass("box-error-error").style.display="block";if($("regBg")!=null){$("regBg").style.opacity="0.3";$("regBg").style.filter="alpha(opacity=30)"}if(e===true){b.addClass("box-error-pop");var c=reg_gel(b.parentNode);if(c.className=="input_wrap"){}}},hideRegError:function(c,b){var a=reg_gel(c+"_error_span");if($("regBg")!=null){$("regBg").style.opacity="1";$("regBg").style.filter="alpha(opacity=100)"}if(!a){return}a.dropClass("box-error-focus").dropClass("box-error-error");if(!this.defaultShowTip||b===true){a.style.display="none";if(c==="name"&&reg_gel("name_tip")){reg_gel("name_tip").style.display="none"}}else{if(defaultTip[c]){reg_gel(c+"_error_span_i").innerHTML=defaultTip[c]}}},hideRecommendTips:function(){if(reg_gel("recommend").nodeName=="INPUT"&&reg_gel("recommend").value=="填写真实目的，获取更优服务"){reg_gel("recommend").value="";reg_gel("recommend").style.color="#000"}},showRecommendTips:function(){if(reg_gel("recommend").nodeName=="INPUT"&&reg_gel("recommend").value==""){reg_gel("recommend").value="填写真实目的，获取更优服务";reg_gel("recommend").style.color="#999"}},hideRefriendTips:function(){if(reg_gel("refriend").value=="介绍你来人人网的好友姓名"){reg_gel("refriend").value="";reg_gel("refriend").style.color="#000"}},showRefriendTips:function(){if(reg_gel("refriend").value==""){reg_gel("refriend").value="介绍你来人人网的好友姓名";reg_gel("refriend").style.color="#999"}}};function refreshCode(){if(reg_gel("icode_type")){reg_gel("verifyPic").src=reg_gel("verifyPic").src.split("&")[0]+"&rnd="+Math.random()}else{if((reg_gel("accType"))&&reg_gel("accType").value=="2"){reg_gel("verifyPic").src=reg_gel("verifyPic").src.split("&")[0]+"&rk=600&rnd="+Math.random()}else{reg_gel("verifyPic").src=reg_gel("verifyPic").src.split("&")[0]+"&rk=600&rnd="+Math.random()}}}function showPop(){if(reg_gel("mask_layer")){reg_gel("mask_layer").style.display=reg_gel("reg_layer").style.display="block"}}if(!window.XN){$=reg_gel;var XN={};XN.DO=XN.Do={};var currentConfirm=null;XN.DO.confirmHide=function(a){if(reg_gel("maskLayer")){reg_gel("maskLayer").style.display="none"}if(reg_gel("dialog")){reg_gel("dialog").style.display="none"}Event.stop(a)};XN.DO.confirm=function(v,q,g,f,t,e,c,r,k){var j=['<table style="width: 100%; height: 100%;" class="pop_dialog_table">',"<tbody>","<tr>",'<td class="pop_topleft"></td>','<td class="pop_border"></td>','<td class="pop_topright"></td>',"</tr>","<tr>",'<td class="pop_border"></td>','<td class="pop_content" id="pop_content">','<div  style="position:relative" id="pop_content_box_wrap"><div id="pop_content_box" style="top:0;left:0;z-index:600;width:100%"><h2><span id="ui_dialog_header"></span></h2>','<div class="dialog_content">','<div id="ui_dialog_body" class="dialog_body"></div>','<div id="ui_dialog_footer" class="dialog_buttons"><input value="确定" id="ui_dialog_button_confirm" class="input-submit" type="button" /></div>','</div></div><iframe id="pop_iframe" style="display:none;position:absolute;top:0;left:0;z-index:500;border:0" frameborder="0"></iframe></div>',"</td>",'<td class="pop_border"></td>',"</tr>","<tr>",'<td class="pop_bottomleft"></td>','<td class="pop_border"></td>','<td class="pop_bottomright"></td>',"</tr>","</tbody>","</table>"].join("");var b;if(reg_gel("maskLayer")){b=reg_gel("maskLayer");b.style.display="block"}else{b=new Element("div",{id:"maskLayer"});document.body.appendChild(b);b.setStyle({position:"absolute",top:"0",left:"0",right:"0",bottom:"0",height:"100%",width:"100%"});b.style.zIndex=1000}if(reg_gel("dialog")){var n=reg_gel("dialog");n.style.display="block"}else{n=new Element("div",{id:"dialog"});n.innerHTML=j;b.appendChild(n);n.style.display="block";reg_gel("ui_dialog_button_confirm").addEvent("click",XN.DO.confirmHide);n.setStyle({width:"400",margin:"0 auto"})}reg_gel("ui_dialog_body").innerHTML=v;reg_gel("ui_dialog_header").innerHTML=q?q:"提示";if(Env.IE6){var u=reg_gel("pop_content_box").getSize();reg_gel("pop_content_box_wrap").setStyle({height:u[1]});reg_gel("pop_iframe").setStyle({width:u[0],height:u[1],display:"block"});reg_gel("pop_content_box").setStyle({position:"absolute"})}var l=n.offsetHeight;var d=document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0;var a=window.innerHeight||document.documentElement.clientHeight||0;var o="217px";n.style.marginTop=o};function load_jebe_ads(){}}XN.Browser={addHomePage:function(a){if(!!(window.attachEvent&&!window.opera)){document.body.style.behavior="url(#default#homepage)";document.body.setHomePage(a)}else{if(window.clipboardData&&clipboardData.setData){clipboardData.setData("text",a)}else{alert("您的浏览器不允许脚本访问剪切板，请手动设置~");return}alert("网址已经拷贝到剪切板,请您打开浏览器的选项,\n把地址粘到主页选项中即可~")}return true},addBookMark:function(a,d){var b=(navigator.userAgent.toLowerCase()).indexOf("mac")!=-1?"Command/Cmd":"CTRL";try{window.external.addFavorite(a,d||document.title||XN.env.siteName+" - 因为真实, 所以精彩")}catch(c){try{window.sidebar.addPanel(d||document.title||XN.env.siteName+" - 因为真实, 所以精彩",a,"")}catch(c){alert("您可以尝试通过快捷键"+b+" + D 添加书签~")}}}};var ajaxGetUserInfo=function(b){var a="http://reg.renren.com/AjaxGetUserProfileInfo.do";if(!this.x){this.x=new X()}this.x.onLoad=this.setUserInfor.bind(this);this.x.setVars({id:b}).send(a)};ajaxGetUserInfo.prototype={setUserInfor:function(){var a=this.x.getJSON();this.ar=a;if(!a){return}if(this.isTrue(a.doing)){reg_gel("profile-doing").innerHTML=a.doing}this.show("friend",1,"共有 <b>"+a.friend_num+"个好友</b>");this.show("gossip",2,"收到了 <b>"+a.gossip_num+"条留言</b>");this.show("photo",3,"上传<b>"+a.photo_num+"张照片</b>");this.show("blog",4,"写了<b>"+a.blog_num+"篇日志</b>");if(this.isTrue(a.head_url)){reg_gel("profile-head_url").src=a.head_url}},show:function(d,a,b){var c=reg_gel("profile-"+d+"_num");this.isTrue(this.ar[d+"_num"])?(c.addClass("l_"+a).innerHTML=b):(c.style.display="none")},isTrue:function(a){return a!=false&&typeof a!="undefined"&&a!="undefined"&&a!="null"}};var ajaxRegUserInfo=function(b){var a="http://reg.renren.com/AjaxGetUserProfileInfo.do";if(!this.x){this.x=new X()}this.x.onLoad=this.setUserInfor.bind(this);this.x.setVars({id:b}).send(a)};ajaxRegUserInfo.prototype={setUserInfor:function(){var a=this.x.getJSON();this.ar=a;if(this.isTrue(a.doing)){reg_gel("profile-doing").innerHTML='<img alt="" src="http://a.xnimg.cn/img/newsfeed/status.gif" />'+a.doing}this.show("friend",1,"("+a.friend_num+")");this.show("album",2,"("+a.album_num+")");this.show("game",3,"("+a.game_num+")");this.show("page",4,"("+a.page_num+")");if(this.isTrue(a.head_url)){reg_gel("profile-head_url").src=a.head_url}if(a.page_head_url=="undefined"||reg_gel("url_page").innerHTML==""){reg_gel("url_page").innerHTML='<img src="http://a.xnimg.cn/imgpro/app/6229/u_page.jpg" alt="" alt="" />'}if(this.isTrue(a.page_head_url)){reg_gel("url_page").innerHTML="<img src="+a.page_head_url+' alt="" />'}if(this.isTrue(a.head_large_url)){reg_gel("url_photo").innerHTML="<img src="+a.head_large_url+' alt="" />'}else{reg_gel("url_photo").innerHTML='<img src="http://a.xnimg.cn/imgpro/app/6229/u_photo.jpg" alt="" />';reg_gel("url_page").innerHTML='<img src="http://a.xnimg.cn/imgpro/app/6229/u_page.jpg" alt="" alt="" />'}reg_gel("url_game").innerHTML='<img src="http://a.xnimg.cn/imgpro/app/6229/u_game.jpg" alt="" />'},show:function(d,a,b){var c=reg_gel("profile-"+d+"_num");this.isTrue(this.ar[d+"_num"])?(c.addClass("l_"+a).innerHTML=b):(c.style.display="none")},isTrue:function(a){return a!=false&&typeof a!="undefined"&&a!="undefined"&&a!="null"}};var PageRegPop=function(){links=$s({tag:"a"},{"class":"reg_pop"});for(var a=0;a<links.length;a++){links[a].addEvent("click",this.showPop.bind(this))}};PageRegPop.prototype={showPop:function(a){XN.DO.confirm("请先完善个人资料后加入。");Event.stop(a)}};var QQCheck=function(){var a=reg_gel("model_submit").addEvent("click",this.sendRequest.bind(this));reg_gel("diag_frame").src="about:blank";this.checking=false;this.requestCount=0;this.sendMail=false;this.checkError=false};QQCheck.prototype={sendRequest:function(c){if(this.checkError===true&&c){Event.stop(c);return false}if(this.checking===true){return}var a="http://reg.renren.com/regauditwait-qq.do";if(!this.x){this.x=new X()}this.x.onLoad=this.checkQQLoad.bind(this);this.x.setVars({qe:QQMail});this.x.send(a);this.checking=true;if(this.sendMail===false){var b=new X();b.setVars({email:QQMail,action_id:250112});b.send("http://reg.renren.com/AjaxRegisterLog.do");this.sendMail=true}},checkQQLoad:function(){var a=this.x.getJSON();var b=a.code,c=a.msg;this.checking=false;this.requestCount++;if(this.requestCount<100){reg_gel("model_wait").style.display="block";if(b===0){window.location.href="http://www.renren.com"}if(b===2||b===3){reg_gel("model_wait").style.display="none";reg_gel("model_err").style.display="block";reg_gel("model_err").innerHTML="很抱歉，您的帐户没有通过验证。请选择下面的其他方式验证或重新注册！";this.checkError=true;reg_gel("model_submit").setStyle({"background-position":"0 -34px",cursor:"default"});return}else{setTimeout(this.sendRequest.bind(this),3000)}}else{reg_gel("model_wait").style.display="none";reg_gel("model_err").style.display="block";reg_gel("model_err").innerHTML="很抱歉，您的帐户没有通过验证。请选择下面的其他方式验证或重新注册!";this.checkError=true;reg_gel("model_submit").setStyle({"background-position":"0 -34px",cursor:"default"})}}};function showRegLaterDialog(){var d=reg_gel("regEmail").value.toLowerCase();var c=reg_gel("pwd").value;var b=reg_gel("name").value;var f=reg_gel("icode_register").value;var e=function(){var j=false;var h=document.getElementsByName("gender");for(var g=0;g<h.length;g++){if(h[g].checked){return h[g].value}}};var a=new X();a.send("http://reg.renren.com/ajax/sb/asreg");a.onLoad=function(){formCheckAjaxLoad(a)};a.setVars({regEmail:d,pwd:c,name:b,gender:e(),birth_year:reg_gel("regform").birth_year.value,birth_month:reg_gel("regform").birth_month.value,birth_day:reg_gel("regform").birth_day.value,icode_register:f,key_id:reg_gel("regform").key_id.value,fromUrl:reg_gel("fromUrl").value,iu:reg_gel("iu").value,ic:reg_gel("ic").value,uuid:reg_gel("uuid").value,ss:reg_gel("ss").value,action_id:reg_gel("action_id").value,pageId:reg_gel("pageId").value,accType:reg_gel("accType").value,g:reg_gel("g").value,b:reg_gel("b").value,appId:reg_gel("appId").value,appName:reg_gel("appName").value,inviterId:reg_gel("inviterId").value,inviteType:reg_gel("inviteType").value,inviteeEmail:reg_gel("inviteeEmail").value,appToken:reg_gel("appToken").value,groupName:reg_gel("groupName").value,t:(new Date()).getTime()})}function formCheckAjaxLoad(b){var a=b.getJSON();var d=a.code,e=a.msg;var c=window.location.href.toString().split("&")[1];if(d=="0"){window.location.href="http://invite.renren.com/iGiftPreview?"+c+"&flg=r";return true}else{XN.DO.showMessage(e,"",3);reg_gel("icode_register").value="";refreshCode();return false}}var jsonParse=(function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var k='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var j='(?:"'+k+'*")';var d=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+j+")","g");var l=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var g={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function h(n,o,q){return o?g[o]:String.fromCharCode(parseInt(q,16))}var c=new String("");var a="\\";var f={"{":Object,"[":Array};var b=Object.hasOwnProperty;return function(x,t){var s=x.match(d);var A;var y=s[0];var o=false;if("{"===y){A={}}else{if("["===y){A=[]}else{A=[];o=true}}var w;var u=[A];for(var r=1-o,q=s.length;r<q;++r){y=s[r];var z;switch(y.charCodeAt(0)){default:z=u[0];z[w||z.length]=+(y);w=void 0;break;case 34:y=y.substring(1,y.length-1);if(y.indexOf(a)!==-1){y=y.replace(l,h)}z=u[0];if(!w){if(z instanceof Array){w=z.length}else{w=y||c;break}}z[w]=y;w=void 0;break;case 91:z=u[0];u.unshift(z[w||z.length]=[]);w=void 0;break;case 93:u.shift();break;case 102:z=u[0];z[w||z.length]=false;w=void 0;break;case 110:z=u[0];z[w||z.length]=null;w=void 0;break;case 116:z=u[0];z[w||z.length]=true;w=void 0;break;case 123:z=u[0];u.unshift(z[w||z.length]={});w=void 0;break;case 125:u.shift();break}}if(o){if(u.length!==1){throw new Error()}A=A[0]}else{if(u.length){throw new Error()}}if(t){var v=function(F,E){var G=F[E];if(G&&typeof G==="object"){var n=null;for(var C in G){if(b.call(G,C)&&G!==F){var B=v(G,C);if(B!==void 0){G[C]=B}else{if(!n){n=[]}n.push(C)}}}if(n){for(var D=n.length;--D>=0;){delete G[n[D]]}}}return t.call(F,E,G)};A=v({"":A},"")}return A}})();(function(){function c(k,j,h){if(k.attachEvent){k.attachEvent("on"+j,h)}else{k.addEventListener(j,h,false)}}var e=false;var g=[];function a(){if(!e){e=true;if(g){for(var h=0;h<g.length;h++){g[h].call(document)}g=null}}}var f=false;function d(){if(f){return}f=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);a()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);a()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(e){return}try{document.documentElement.doScroll("left")}catch(h){setTimeout(arguments.callee,0);return}a()})()}}}c(window,"load",a)}function b(h){if(!h){return}d();if(e){h.call(document)}else{g.push(h)}}document.ready=b})();document.ready(function(){function b(){var h=jsonParse(a.response||"{}");var n=document.getElementById("photoNum");var d=document.getElementById("blogNum");var l=document.getElementById("shareNum");var j=document.getElementById("doing");var f=document.getElementById("friendList");if(n&&h.photo_num){n.innerHTML=h.photo_num}if(d&&h.blog_num){d.innerHTML=h.blog_num}if(l&&h.share_num){l.innerHTML=h.share_num}if(j&&h.doing){j.innerHTML=h.doing}if(f){var k=(h.friend_details||[]).concat([{name:"刘静",tinyFullUrl:"http://a.xnimg.cn/imgpro/reg/new/lj.png"},{name:"伍超",tinyFullUrl:"http://a.xnimg.cn/imgpro/reg/new/wc.png"},{name:"刘小",tinyFullUrl:"http://a.xnimg.cn/imgpro/reg/new/lx.png"}]);var e="";for(var g=0;g<3;g++){e+='<dd><img src="'+k[g].tinyFullUrl+'" alt="" /><span class="name">'+k[g].name+"</span></dd>"}f.innerHTML="<dt>他的好友</dt>"+e;f.style.display="block"}}var a=new X({onLoad:b});try{a.send(" http://reg.renren.com/AjaxGetUserProfileInfo.do?id="+document.getElementById("i").value)}catch(c){}});